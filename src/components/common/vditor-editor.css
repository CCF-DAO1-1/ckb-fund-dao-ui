/* Vditor 编辑器容器样式 */
.vditor-editor-container {
  width: 100%;
  margin-bottom: 10px;
}

.vditor-editor-wrapper {
  width: 100%;
}

/* 覆盖 Vditor 默认样式以匹配项目主题 */
.vditor {
  background-color: #262A33 !important;
  border: 1px solid #4C525C;
  border-radius: 8px;
  color: #FFFFFF;
  overflow: visible !important; /* 确保 tooltip 不被裁剪 */
}

/* 评论输入框特定样式 */
.comment-quote-main .vditor {
  border: 1px solid #4C525C;
  border-radius: 8px;
  overflow: visible !important; /* 允许 tooltip 显示 */
  position: relative; /* 确保定位上下文 */
}

/* 确保评论输入框的圆角边框完整显示 */
.comment-quote-main .vditor-toolbar {
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  overflow: visible !important; /* 允许 tooltip 显示 */
}

.comment-quote-main .vditor-content,
.comment-quote-main .vditor-content__editor {
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
  overflow: hidden; /* 内容区域不溢出圆角 */
}

/* 确保所有 Vditor 容器都有不透明背景 */
.vditor * {
  box-sizing: border-box;
}

/* 强制所有 Vditor 内部元素使用深色背景 */
.vditor > * {
  background-color: #262A33 !important;
}

/* WYSIWYG 模式下的所有可能类名 */
.vditor-wysiwyg {
  background-color: #262A33 !important;
}

.vditor-wysiwyg__editor {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
}

/* 所有可能的编辑器容器 */
.vditor-content__editor,
.vditor-content__editor > div,
.vditor-content__editor > p,
.vditor-content__editor > span {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
}

/* 针对 contenteditable 元素 */
[contenteditable="true"] {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
}

/* Vditor 内部的所有 div */
.vditor div {
  background-color: #262A33 !important;
}

/* 确保文本区域背景 */
.vditor textarea,
.vditor input {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
}

.vditor-toolbar {
  background-color: #262A33 !important;
  border-bottom: 1px solid #4C525C;
  padding: 4px 10px !important;
}

/* 评论输入框工具栏 padding 调整 */
.comment-quote-main .vditor-toolbar {
  padding: 6px 16px !important;
  border-bottom: 1px solid #4C525C;
}

.vditor-toolbar button {
  color: #8A949E;
  background-color: transparent;
  transition: color 0.2s ease, background-color 0.2s ease;
}

.vditor-toolbar button:hover {
  color: #FFFFFF;
  background-color: rgba(255, 255, 255, 0.1);
}

.vditor-toolbar button.vditor-toolbar__item--active {
  color: #00CC9B;
  background-color: rgba(0, 204, 155, 0.2);
}

.vditor-content {
  background-color: #262A33 !important;
  color: #FFFFFF;
  padding-left: 10px !important;
  padding-right: 10px !important;
}

.vditor-content__editor {
  background-color: #262A33 !important;
  color: #FFFFFF;
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* 评论输入框内容区域 padding 调整 */
.comment-quote-main .vditor-content {
  padding: 12px 16px !important;
}

.comment-quote-main .vditor-content__editor {
  padding: 12px 16px !important;
  min-height: 100px;
}

.comment-quote-main .vditor-ir__editor {
  padding: 12px 16px !important;
}

.comment-quote-main .vditor-wysiwyg__editor {
  padding: 12px 16px !important;
}

/* WYSIWYG 模式下的编辑器背景 */
.vditor-content__editor[contenteditable="true"] {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
}

/* 确保编辑器内部所有元素都有背景 */
.vditor-content__editor > * {
  background-color: transparent;
}

/* WYSIWYG 模式下的编辑器内容区域 */
.vditor-wysiwyg__editor,
.vditor-wysiwyg__editor > *,
.vditor-wysiwyg__editor[contenteditable="true"] {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* 所有可能的编辑器包装器 */
.vditor-content,
.vditor-content > div,
.vditor-content > textarea {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* 确保编辑器主体背景 */
.vditor-body {
  background-color: #262A33 !important;
}

/* 编辑器内部的所有段落和文本元素 */
.vditor-content__editor p,
.vditor-content__editor div,
.vditor-content__editor span,
.vditor-content__editor h1,
.vditor-content__editor h2,
.vditor-content__editor h3,
.vditor-content__editor h4,
.vditor-content__editor h5,
.vditor-content__editor h6 {
  background-color: transparent !important;
  color: #FFFFFF !important;
}

/* 预览模式背景 */
.vditor-preview {
  background-color: #262A33 !important;
  color: #FFFFFF;
  border-left: 1px solid #4C525C;
}

.vditor-preview__content {
  background-color: #262A33 !important;
  color: #FFFFFF;
}

/* IR 模式（即时渲染）背景 */
.vditor-ir {
  background-color: #262A33 !important;
}

.vditor-ir__preview {
  background-color: #262A33 !important;
}

/* SV 模式（分屏预览）背景 */
.vditor-sv {
  background-color: #262A33 !important;
}

.vditor-sv__editor {
  background-color: #262A33 !important;
}

.vditor-sv__preview {
  background-color: #262A33 !important;
}

.vditor-content__editor pre {
  background-color: #1A1D23;
  color: #FFFFFF;
  border: 1px solid #4C525C;
  border-radius: 4px;
  padding: 12px;
}

.vditor-content__editor code {
  background-color: #1A1D23;
  color: #00CC9B;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
}

.vditor-content__editor blockquote {
  border-left: 4px solid #00CC9B;
  padding-left: 16px;
  margin: 12px 0;
  color: #8A949E;
  font-style: italic;
}

.vditor-content__editor img {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  margin: 8px 0;
}

.vditor-content__editor a {
  color: #00CC9B;
  text-decoration: underline;
}

.vditor-content__editor a:hover {
  color: #00E6B8;
}

.vditor-content__editor table {
  border-collapse: collapse;
  width: 100%;
  margin: 12px 0;
}

.vditor-content__editor table th,
.vditor-content__editor table td {
  border: 1px solid #4C525C;
  padding: 8px;
  text-align: left;
}

.vditor-content__editor table th {
  background-color: #1F2329;
  color: #FFFFFF;
  font-weight: 600;
}

.vditor-content__editor table td {
  background-color: #262A33;
  color: #FFFFFF;
}

.vditor-content__editor h1,
.vditor-content__editor h2,
.vditor-content__editor h3,
.vditor-content__editor h4,
.vditor-content__editor h5,
.vditor-content__editor h6 {
  color: #FFFFFF;
  font-weight: bold;
  margin: 16px 0 8px 0;
}

.vditor-content__editor h1 {
  font-size: 24px;
}

.vditor-content__editor h2 {
  font-size: 20px;
}

.vditor-content__editor h3 {
  font-size: 18px;
}

.vditor-content__editor ul,
.vditor-content__editor ol {
  margin: 8px 0;
  padding-left: 24px;
  color: #FFFFFF;
}

.vditor-content__editor li {
  margin: 4px 0;
  color: #FFFFFF;
}

.vditor-content__editor p {
  margin: 8px 0;
  color: #FFFFFF;
  line-height: 1.6;
}

/* 确保编辑器包装器有背景 */
.vditor-editor-wrapper {
  background-color: #262A33 !important;
  overflow: visible !important; /* 允许 tooltip 显示 */
}

.vditor-editor-container {
  background-color: #262A33 !important;
  overflow: visible !important; /* 允许 tooltip 显示 */
}

/* 输入区域背景 */
.vditor-input {
  background-color: #262A33 !important;
  color: #FFFFFF;
}

/* 确保所有文本区域都有背景 */
textarea.vditor-input {
  background-color: #262A33 !important;
  color: #FFFFFF;
}

/* 通用规则：覆盖所有可能的白色背景 */
.vditor [style*="background-color: white"],
.vditor [style*="background-color: #fff"],
.vditor [style*="background-color: #ffffff"],
.vditor [style*="background-color: rgb(255, 255, 255)"],
.vditor [style*="background-color: rgba(255, 255, 255"] {
  background-color: #262A33 !important;
}

/* 确保所有可能的编辑器类都有深色背景 */
.vditor .vditor-content__editor,
.vditor .vditor-wysiwyg__editor,
.vditor .vditor-ir__editor,
.vditor .vditor-sv__editor,
.vditor [class*="editor"],
.vditor [class*="content"] {
  background-color: #262A33 !important;
  color: #FFFFFF !important;
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* 设置工具栏和内容区的左右内边距 */
.vditor-toolbar,
.vditor-content,
.vditor-content__editor,
.vditor-wysiwyg__editor,
.vditor-ir__editor,
.vditor-sv__editor {
  padding-left: 10px !important;
  padding-right: 10px !important;
}

/* 针对可能的 iframe（某些模式下可能使用） */
.vditor iframe {
  background-color: #262A33 !important;
}

/* 加载状态 */
.vditor-editor-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #4C525C;
  border-radius: 6px;
  background-color: #262A33;
  color: #6b7280;
}

/* Vditor Tooltip 样式 - 确保 tooltip 正常显示 */
.vditor-tooltip,
.vditor-tooltip__arrow,
[data-vditor-tooltip],
.vditor-tooltip__inner {
  z-index: 999999 !important; /* 提高 z-index 确保在最上层 */
  position: fixed !important; /* 使用 fixed 定位，避免被父容器裁剪 */
  background-color: #1A1D23 !important;
  color: #FFFFFF !important;
  border: 1px solid #4C525C !important;
  border-radius: 4px !important;
  padding: 6px 10px !important;
  font-size: 12px !important;
  white-space: nowrap !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5) !important;
  pointer-events: none !important;
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  max-width: none !important;
  overflow: visible !important;
}

/* 确保 tooltip 容器可见且不被裁剪 */
.vditor-toolbar {
  position: relative !important;
  overflow: visible !important; /* 允许 tooltip 显示 */
  /* tooltip 使用 fixed 定位，不会被父容器裁剪 */
}

.vditor-toolbar__item {
  position: relative !important;
}

.vditor-toolbar button {
  position: relative !important;
}

/* 评论输入框的工具栏需要保持圆角 */
.comment-quote-main .vditor-toolbar {
  overflow: visible !important; /* 允许 tooltip 显示，圆角通过其他方式保持 */
  /* 使用伪元素或子元素来保持圆角效果 */
}

/* 响应式设计 */
@media (max-width: 768px) {
  .vditor-toolbar {
    padding: 4px 10px !important;
  }

  .vditor-toolbar button {
    padding: 4px 8px;
    font-size: 12px;
  }
}

